# CVE Api

Parse & filter CVEs from <https://cve.mitre.org>.

## Getting started

`bundle install`

### Your environment

You can switch between prod & dev at `config/environment.rb`\
You need to create one yourself, an example can be found [here](config/environment-example.rb).

## Api docs

### Get CVE

The year parameter is optional.\
`http://localhost:4000/cve?target=KEYWORD`\
`http://localhost:4000/cve?target=KEYWORD&year=YEAR`

#### Example

`http://localhost:4000/cve?target=phpmyadmin`\
`http://localhost:4000/cve?target=phpmyadmin&year=2020`\

If you want to parse the latest year, use the latest keyword.\
`http://localhost:4000/cve?target=phpmyadmin&year=latest`\

The api does also support the cli!\
`http://localhost:4000/raw?target=phpmyadmin&year=latest`

### Uptime robot

The url will return a status code of 200 which means the api is healthy.\
If 200 is not shown then you should assume there is something wrong.\
`http://localhost:4000/status`

## Host the api

`ruby rest.rb`

## Manage image

### Build image

`docker build . -t cve-api`

### Run image

`docker run -p 4000:4000 -d cve-api`

#### Access

You can access the api via your localIp:port

#### Remove image

`docker rmi cve-api`
