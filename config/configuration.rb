# frozen_string_literal: true

require_relative '../general'
leave_with(:configuration_error, "Config error, environment file not found!") if not File.exist?("config/environment.rb")

require_relative 'environment'
require 'dotenv'
ENV_PATH = 'env'

configure :development do
  Dotenv.load("#{ENV_PATH}/development.env")
  enable :reloader

  set :bind, ENV['HOST']
  set :port, ENV['PORT']
  set :logging, true
  set :sessions, true
  set :dump_errors, true
end

configure :production do
  Dotenv.load("#{ENV_PATH}/production.env")
  disable :reloader

  set :bind, ENV['HOST']
  set :port, ENV['PORT']
  set :logging, false
  set :sessions, false
  set :dump_errors, false
end

set :public_folder, '../views'
set :rdoc, layout_engine: :erb
